<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin</title>
</head>
<body>
    <!-- Sección de usuarios -->
    <h2>Usuarios</h2>
    <table>
        <tr>
            <th>Email</th>
            <th>Ocupación</th>
            <th>Institución</th>
            <th>Edad</th>
            <th>Nombre Completo</th>
            <th>Acciones</th> <!-- Columna para botones de acciones -->
        </tr>
        {% for usuario in usuarios %}
        <tr>
            <td>{{ usuario.email }}</td>
            <td>{{ usuario.ocupacion }}</td>
            <td>{{ usuario.institucion }}</td>
            <td>{{ usuario.edad }}</td>
            <td>{{ usuario.nombre_completo }}</td>
            <td>
                <form action="{{ url_for('admin_app.editar_usuario', usuario_id=usuario.id) }}" method="post" style="display: inline;">
                    <button type="submit" name="action" value="edit">Editar</button> <!-- Botón de editar -->
                </form>
                <form action="{{ url_for('admin_app.eliminar_usuario', usuario_id=usuario.id) }}" method="post" style="display: inline;">
                    <button type="submit" name="action" value="delete">Eliminar</button> <!-- Botón de eliminar -->
                </form>
            </td>
        </tr>
        {% endfor %}
    </table>

    <!-- Sección de proyectos -->
    <h2>Proyectos</h2>
    <table>
        <tr>
            <th>Título</th>
            <th>Descripción</th>
            <th>Autor</th>
            <th>Fecha de Publicación</th>
            <th>Palabras Clave</th>
            <th>Acciones</th> <!-- Columna para botones de acciones -->
        </tr>
        {% for proyecto in proyectos %}
        <tr>
            <td>{{ proyecto.titulo }}</td>
            <td>{{ proyecto.descripcion }}</td>
            <td>{{ proyecto.autor }}</td>
            <td>{{ proyecto.fecha_publicacion }}</td>
            <td>{{ proyecto.palabras_clave }}</td>
            <td>
                <form action="{{ url_for('admin_app.editar_proyecto', proyecto_id=proyecto.id) }}" method="post" style="display: inline;">
                    <button type="submit" name="action" value="edit">Editar</button> <!-- Botón de editar -->
                </form>
                <form action="{{ url_for('admin_app.eliminar_proyecto', proyecto_id=proyecto.id) }}" method="post" style="display: inline;">
                    <button type="submit" name="action" value="delete">Eliminar</button> <!-- Botón de eliminar -->
                </form>
            </td>
        </tr>
        {% endfor %}
    </table>

    <!-- Formulario para agregar usuario -->
    <h2>Agregar Usuario</h2>
    <form action="{{ url_for('admin_app.usuarios') }}" method="post">
        <label>Email:</label>
        <input type="text" name="email" required><br><br>
        <label>Contraseña:</label>
        <input type="password" name="contraseña" required><br><br>
        <label>Ocupación:</label>
        <input type="text" name="ocupacion" required><br><br>
        <label>Institución:</label>
        <input type="text" name="institucion" required><br><br>
        <label>Edad:</label>
        <input type="number" name="edad" required><br><br>
        <label>Nombre Completo:</label>
        <input type="text" name="nombre_completo" required><br><br>
        <button type="submit">Agregar Usuario</button>
    </form>

    <!-- Formulario para agregar proyecto -->
    <h2>Agregar Proyecto</h2>
    <form action="{{ url_for('admin_app.proyectos') }}" method="post">
        <label>Título:</label>
        <input type="text" name="titulo" required><br><br>
        <label>Descripción:</label>
        <input type="text" name="descripcion" required><br><br>
        <label>Autor:</label>
        <input type="text" name="autor" required><br><br>
        <label>Fecha de Publicación:</label>
        <input type="text" name="fecha_publicacion" placeholder="dd/mm/aaaa" required><br><br>
        <label>Palabras Clave:</label>
        <input type="text" name="palabras_clave" required><br><br>
        <button type="submit">Agregar Proyecto</button>
    </form>
</body>
</html>
